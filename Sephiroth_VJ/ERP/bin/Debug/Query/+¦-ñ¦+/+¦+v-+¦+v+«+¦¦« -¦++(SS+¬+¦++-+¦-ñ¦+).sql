SELECT A.FACTORY,
       PKG_SBC_COMMON.FN_GET_COMMON(A.FACTORY, 'SBP11', A.SHIP_DIVISION)      AS REASON,
       A.PACKING,
       PKG_SBC_COMMON.FN_GET_STYLE_NAME(A.STYLE_CD)    AS STYLE_NAME,
       A.STYLE_CD,
       FN_SBC_STYLE(A.STYLE_CD, '04')                    AS GENDOR,
       PKG_SBC_COMMON.FN_GET_COMMON(A.FACTORY, 'SBC20', FN_SBC_STYLE(A.STYLE_CD, '04'))      AS REP_SIZE,
       A.SHIP_QTY                                      AS SHIP_PRS,
       PKG_SBC_COMMON.FN_GET_ITEM_NAME(B.ITEM_CD)      AS ITEM_NAME,
       PKG_SBC_COMMON.FN_GET_SPEC_NAME(B.SPEC_CD)      AS SPEC_NAME,
       PKG_SBC_COMMON.FN_GET_COLOR_NAME(B.COLOR_CD)    AS COLOR_NAME,
       B.SHIP_QTY,
       PKG_SBC_COMMON.FN_GET_STOCK_UNIT(B.ITEM_CD)      AS ITEM_UNIT,
       B.PUR_PRICE,
       B.PUR_CURRENCY,
       B.CBD_PRICE,
       B.CBD_CURRENCY, 
       PKG_SBC_COMMON.FN_GET_CUSTOMER('DS', B.CUST_CD) AS VENDOR_NAME,
       PKG_SBM_SHIPPING_LOCAL.FN_GET_YIELD_M(A.FACTORY, A.STYLE_CD, B.ITEM_CD, B.SPEC_CD, B.COLOR_CD) AS YIELD_M,
       DECODE(DECODE(A.FACTORY, 'DS', NVL(C.IMPORT_DS, 'N'), 'QD', NVL(C.IMPORT_QD, 'N'), 'VJ', NVL(C.IMPORT_VJ, 'N'), 'N' ),
	          'L', 'LOCAL', 
	          'T', 'LLT',
		  'S', 'DS SHIPPING', 'NOTHING'
	   ) AS DIVISION,
       B.SHIP_YN
  FROM SBS_SHIPPING_HEAD A,  SBS_SHIPPING_TAIL B, SBC_ITEM C
 WHERE A.FACTORY  = B.FACTORY
   AND A.SHIP_NO  = B.SHIP_NO
   AND B.ITEM_CD  = C.ITEM_CD
   AND A.FACTORY  = [1;공장;C;SBC21]
   AND A.SHIP_YMD = [2;선적일;D]
   AND A.STYLE_CD      LIKE TRIM([3;스타일코드;T]) || '%'
   AND A.SHIP_DIVISION LIKE [4;사유;C;SBP11]       || '%'
 ORDER BY A.FACTORY, A.STYLE_CD, ITEM_NAME, SPEC_NAME, COLOR_NAME
   
   